#!/usr/bin/env bash
# Ensure Nginx is running

sudo systemctl start nginx
if! grep -q "listen 80;" /etc/nginx/nginx.conf; then
    echo "Configuring Nginx to listen on port 80..."
    sudo sed -i 's/listen\s*80;/listen 80;/g' /etc/nginx/nginx.conf
    sudo systemctl restart nginx
fi
echo "Mapping container's port 80 to host's port 80..."
docker run -d -p 80:80 --name my_nginx_container nginx
